---
title: 计算二项分布的期望
layout: post
date: 2017-05-27 14:00
tags: [math]
math: "yes"
cdn: 'header-off'
header-img: "/imgs/default-post-cover.jpg"
subtitle: Expection of Binomal Distribution
author: "Leon Dong"
---

## 基本概念
二项分布即重复N次独立的伯努利试验。在每次试验中只有两种可能的结果（成功和失败），而且两种结果发生与否互相对立，并且相互独立，与其它各次试验结果无关，事件发生与否的概率在每一次独立试验中都保持不变。设随机变量X为N次实验中成功的次数，则如何求X的期望？

## 按照定义求解
假设成功的概率为$p$,失败的概率为$q$，那么成功$i$的概率$p_i$即为
$$
p_i = C_N^i p^i q^{N-i}
$$
所以，按照期望的的定义，我们可以得到随机变量X的期望为
$$
E(X) = \sum_{i=1}^{\infty} {i \cdot p_i} = \sum_{i=1}^{\infty} {i \cdot C_N^i p^i q^{N-i}}
$$
下面，我来介绍如何求解这个级数。注意到$i \cdot C_N^i = \frac{i \cdot N!}{(N-i)! \cdot i!} = N C_{N-1}^{i-1}$ ,所以
$$
E(X) =  \sum_{i=1}^{\infty} {i \cdot C_N^i p^i q^{N-i}}
= Np \sum_{i=1}^{\infty} {C_{N-1}^{i-1} p^{i-1} q^{(N-1)-(i-1)}} \\
= Np \sum_{i=0}^{\infty} {C_{N-1}^{i} p^{i} q^{(N-1)-(i)}}
= Np (p+q)^{N-1} = Np
$$
因此，按照上述公式的推导，我们得到了二项分布的期望值为$Np$.

## 利用期望的线性性质求解
期望的线性性质，简单的来说，如果有一个随机变量$X = w_1 Y_1 + w_2 Y_2$，那么$E(X) = w_1E(Y_1) + w_2E(Y_2)$，其中$w_1,w_2$是常数。
定义随机变量$Y_i$代表第$i$实现成功的次数，那么我们就有
$$
X=Y_1+Y_2+ ... + Y_N
$$
由于$E(Y_i) = 1*p + 0*q = p$,所以$E(X) = N* E(Y_1) = Np$
可以看到利用期望的线性性质求解问题是一个非常简单并且更清晰的一种方法，在概率论中有很大的作用。并且由于它不要求随机变量间的独立性，所以可以用来求解一些看似很复杂的概率问题。

## 利用期望的线性性质求解问题的例子
### 问题描述
加入说现在有N个士兵，每个人都有自己的一把枪，平时集中的放在了一起。一次集合中，由于集合的比较紧急，每个士兵就随机的那一把枪之后就集合了。问题是刚好拿到自己的枪的人个数$X$的期望是多少。

### 问题求解
还是利用期望的线性性质求解，将随机变量$X$拆开即可。定义随机变量$Y_i$为第$i$个士兵能否拿到自己的枪，我们可以很简单的求出随机变量$Y_i$的期望是$\frac{1}{N}$。
因此，对于一共N个士兵来说，能拿到自己枪的期望就是$N\frac{1}{N} =1$。值得一提的是，这里面各个随机变量$Y_i$是相关的，但这并不影响期望线性性质的使用。



